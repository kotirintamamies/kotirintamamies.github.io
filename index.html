<!DOCTYPE html>
<html ng-app="app">
  <head>
    <link rel="stylesheet" type = "text/css" href="css/stylesheet.css" />
    <title>coming soon</title>

  </head>
  <body>
    <h1>pockets full of hawthornes</h1>
    <div id="scene"></div>
    <script src="js/angular.min.js"></script>
    <script src="js/three.min.js"></script>
    <script>
    var camera, spotlight, scene, renderer;
var geometry, material, mesh;
var currentPosition = {x: 0, z: 0}
var endPosition = {x: 250, z: 300}

init();
animate();

function init() {

    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);
    camera.position.z = 2000;
    camera.position.y = 50;
    spotlight = new THREE.PointLight(0xFFFFFF, 0.7, 500, 2)
    spotlight.position.set(0,0,0)
    scene = new THREE.Scene();

    scene.fog = new THREE.FogExp2( 0x000000, 0.0028 );

    var sun = new THREE.SphereGeometry(1000, 10, 10);
    mesh = new THREE.Mesh(sun, material);

    material = new THREE.MeshBasicMaterial({
        color: 0xffBB00,
        wireframe: false, fog: false   });


    var grid = new THREE.GridHelper( 2000, 100 ,0xFF00FF, 0xFF00FF);




    mesh.position.z = -4000;
    mesh.position.y = 1500;

    var loader = new THREE.FontLoader();
    loader.load('https://kotirintamamies.github.io/js/font.json', function(font)
    {
        var text = new THREE.TextGeometry("hippo", { size: 100, font: font});
        var textMaterial = new THREE.MeshPhongMaterial( { color: 0xff00ff, shading: THREE.FlatShading } );
        var textMesh = new THREE.Mesh(text, textMaterial)
        textMesh.position.z = 100;
        textMesh.position.x = 100;
        scene.add(textMesh);
    })




    scene.add(mesh);
    scene.add(grid);

    var light = new THREE.AmbientLight( 0x404040 );
    scene.add(light);
    scene.add(spotlight);
    renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);

    var container = document.getElementById('scene')
    container.appendChild(renderer.domElement);

}




function getMovement(current, end)
{
  return (end-current)/20
}

function animate() {

    requestAnimationFrame(animate);
    currentPosition.x = camera.position.x;
    currentPosition.z = camera.position.z;

    if (currentPosition.x<endPosition.x-0.1) currentPosition.x+=getMovement(currentPosition.x, endPosition.x);
    if (currentPosition.x>endPosition.x+0.1) currentPosition.x+=getMovement(currentPosition.x, endPosition.x);
    if (currentPosition.z<endPosition.z-0.1) currentPosition.z+=getMovement(currentPosition.z, endPosition.z);
    if (currentPosition.z>endPosition.z+0.1) currentPosition.z+=getMovement(currentPosition.z, endPosition.z);

    camera.position.x = currentPosition.x;
    camera.position.z = currentPosition.z;
    spotlight.position.set(camera.position.x, camera.position.y, camera.position.z);
   // mesh.rotation.x += 0.01;
   // mesh.rotation.y += 0.02;

    renderer.render(scene, camera);

}
    </script>
  </body>
</html>
